{% extends 'base.html' %}
{% block title %}{{ player.full_name }}{% endblock %}
{% block content %}

<div class="card mb-4">
  <div class="row g-0">
    <div class="col-md-4 text-center p-3">
      {% if player.profile_photo %}
        <img src="{{ player.profile_photo.url }}" alt="{{ player.full_name }}" class="img-fluid rounded-circle" style="max-height: 200px;">
      {% else %}
        <div class="bg-secondary text-white d-flex align-items-center justify-content-center rounded-circle" style="height: 200px; width: 200px;">
          No Photo
        </div>
      {% endif %}
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h3 class="card-title">{{ player.full_name }}</h3>
        <p><strong>Birth Date:</strong> {{ player.birth_date }}</p>
        <p><strong>Age:</strong> {{ player.age }} years old</p>
        <p><strong>Parent:</strong> {{ player.parent.username }}</p>
      </div>
    </div>
  </div>
</div>

<h4>Enrollment History</h4>
{% if enrollments %}
  <ul class="list-group">
    {% for e in enrollments %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ e.program.title }}</strong><br>
          <small class="text-muted">Enrolled on: {{ e.enrolled_on }}</small>
        </div>
        <span class="badge bg-{% if e.status == 'approved' %}success{% else %}secondary{% endif %}">
          {{ e.get_status_display }}
        </span>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p class="text-muted">No enrollments yet.</p>
{% endif %}

<a href="{% url 'accounts:player_list' %}" class="btn btn-secondary mt-4">Back to My Players</a>

{% endblock %}
