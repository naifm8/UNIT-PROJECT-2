{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2 class="mb-4">Welcome, {{ user.username }}!</h2>

{% if role == 'parent' %}
  <h4>Your Children</h4>
  <ul>
    {% for player in players %}
      <li>{{ player.full_name }} ({{ player.age }} y/o)</li>
    {% empty %}
      <li>No players added yet.</li>
    {% endfor %}
  </ul>

  <h4 class="mt-4">Your Enrollments</h4>
  <ul>
    {% for e in enrollments %}
      <li>{{ e.player.full_name }} → {{ e.program.title }} ({{ e.get_status_display }})</li>
    {% empty %}
      <li>No enrollments yet.</li>
    {% endfor %}
  </ul>

{% elif role == 'coach' %}
  <h4>Your Programs</h4>
  <ul>
    {% for p in programs %}
      <li>{{ p.title }} ({{ p.start_date }})</li>
    {% empty %}
      <li>No assigned programs yet.</li>
    {% endfor %}
  </ul>

  <h4 class="mt-4">Enrolled Players</h4>
  <ul>
    {% for e in enrollments %}
      <li>{{ e.program.title }}: {{ e.player.full_name }} ({{ e.get_status_display }})</li>
    {% empty %}
      <li>No enrollments yet.</li>
    {% endfor %}
  </ul>

{% elif role == 'admin' %}
  <h4>Users</h4>
  <ul>
    {% for u in users %}
      <li>{{ u.username }} ({{ u.role }})</li>
    {% endfor %}
  </ul>

  <h4 class="mt-4">All Enrollments</h4>
  <ul>
    {% for e in enrollments %}
      <li>{{ e.player.full_name }} → {{ e.program.title }} ({{ e.get_status_display }})</li>
    {% endfor %}
  </ul>
{% endif %}
{% endblock %}
